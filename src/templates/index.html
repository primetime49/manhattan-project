<html>
  <head>
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
      
    <link rel="stylesheet" href = "{{ url_for('static', filename='styles/style.css')}}">

    <title>
      SPS Project
    </title>
      
  </head>
  <body>


    <header class="p-3 text-white">
      <div class="container">
        <h3>Software Performance & Scalability [CM0481]</h3>
        <h1>SPS Project by Adityo Anggraito & Valentino Dalla Valle</h1>
      </div>
    </header>

    <hr />

    <div class="align-middle" id="content">
      <form class="file-drop-area" method="post">
        <span class="choose-file-button">Load source file</span>
        <span class="file-message">or drag and drop it here</span>
        <input class="file-input" type="file" name="file">
        <input value="Submit" type="submit" class="d-none" />
      </form>
    </div>


  </body>
</html>
       
<script>
  $("input[type=file]").on('change', function () {
      let formData = new FormData();
      formData.append("file", this.files[0]);
      $('#content').html('<div class= "spinner-border" role = "status" ><span class="sr-only">Uploading file...</span></div >');
      $.ajax({
          url: "/upload",
          type: "POST",
          data: formData,
          processData: false,
          contentType: false,
          success: function (data) {
              $('#content').html(data);
          }
      });
  });
</script>